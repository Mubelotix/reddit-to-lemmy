// {"operationName":"DiscoverBarRecommendations","variables":{},"extensions":{"persistedQuery":{"version":1,"sha256Hash":"e45db43bace5657e27fb2b41b7398e4e810b52271929f76f0ec11f374d6db524"}}}
// 
// {"data":{"discoverBar":{"recommendedChannels":{"__typename":"RecommendedChatChannels","analyticsInfo":{"recommendationAlgorithm":"CCR_DISCOVER_BAR"},"recommendedChannels":[{"channel":{"__typename":"SubredditChatChannelV2","id":"c2_1vwn","roomId":"!pcp2FlANQVqiwMNSl9jJEA:reddit.com","name":"Parlez le ranÃ§ais","icon":"https://styles.redditmedia.com/t5_2um6i/styles/communityIcon_m6ymckp8r4de1.png","description":"Anglais interdit \nSignalez tout dÃ©passement\nMP u/XOMAMU en cas d'urgence","activeUsersCount":0,"recentMessagesCount":788,"subreddit":{"id":"t5_2um6i","name":"rance"}},"usersAvatars":[{"url":"https://i.redd.it/snoovatar/avatars/1438334a-713c-4f31-b975-80876393db98.png"},{"url":"https://i.redd.it/snoovatar/avatars/7aafd5ae-6f04-4e45-b700-36d1b4d4c829.png"},{"url":"https://i.redd.it/snoovatar/avatars/1e320fbe-55e4-4bd5-8850-a16a32142362.png"}]},{"channel":{"__typename":"UserChatChannel","id":"c5_1er0","roomId":"!uY-AfrhHSeirisAe9Qp1sA:reddit.com","name":"Make Friends","icon":"","description":"This chat is for the people who are looking to make freinds","activeUsersCount":15,"recentMessagesCount":49360,"taggedTopics":[{"name":"Wholesome \u0026 Heartwarming"}]},"usersAvatars":[{"url":"https://i.redd.it/snoovatar/avatars/b47703c7-cc88-494a-a8f2-fa84cac07c6d.png"},{"url":"https://i.redd.it/snoovatar/avatars/9669edb2-cb5d-4f38-8a8f-d3889bbd0437.png"},{"url":"https://i.redd.it/snoovatar/avatars/2b813b6d-fca2-42b8-9e74-c9333f9ec6be.png"}]},{"channel":{"__typename":"UserChatChannel","id":"c5_cb2","roomId":"!pvQjSXOqQLmhFX30F6a7QA:reddit.com","name":"Trivia chat","icon":"https://matrix.redditspace.com/_matrix/media/v3/download/reddit.com/t4n6u5r5pqkc1","description":"Commands leaderboard daily/weekly/all/season1\nSay thanks :) https://buymeacoffee.com/koalascala","activeUsersCount":7,"recentMessagesCount":42554,"taggedTopics":[{"name":"Interesting"}]},"usersAvatars":[{"url":"https://i.redd.it/snoovatar/avatars/497e6dc9-fbd3-4688-b025-ac59e24b1e9e.png"},{"url":"https://i.redd.it/snoovatar/avatars/1ad9c009-94f0-44ac-b9f8-b65619b00993.png"},{"url":"https://i.redd.it/snoovatar/avatars/060ae899-cece-4700-8e31-1105eae42ab2.png"}]},{"channel":{"__typename":"UserChatChannel","id":"c5_xg0","roomId":"!zmPQ4KmSShu0iarUEDy8NA:reddit.com","name":"Selfies_SFW","icon":"https://matrix.redditspace.com/_matrix/media/v3/download/reddit.com/r7hvyj0py85d1","description":"Welcome to the original Selfies_SFW. \nPlease read the rules, be cool and have fun.","activeUsersCount":11,"recentMessagesCount":7409,"taggedTopics":[{"name":"Interesting"}]},"usersAvatars":[{"url":"https://i.redd.it/snoovatar/avatars/2b53d469-1730-48bf-8242-b32bdf4d92ed.png"},{"url":"https://i.redd.it/snoovatar/avatars/1e320fbe-55e4-4bd5-8850-a16a32142362.png"},{"url":"https://i.redd.it/snoovatar/avatars/b5593aa9-40c2-4f03-86f8-0449a0eebcd5.png"}]},{"channel":{"__typename":"UserChatChannel","id":"c5_1pfr","roomId":"!JLesJ-RQTwWEtYf5ft63Ww:reddit.com","name":"Live Trivia","icon":"https://matrix.redditspace.com/_matrix/media/v3/download/reddit.com/vh9168iv82be1","description":"Live trivia with people across the world!     Stats \u0026 more at https://livetriviastats.com","activeUsersCount":4,"recentMessagesCount":29641,"taggedTopics":[{"name":"Interesting"}]},"usersAvatars":[{"url":"https://i.redd.it/snoovatar/avatars/22366556-a94c-4a7a-89a6-397aede759cc.png"},{"url":"https://i.redd.it/snoovatar/avatars/905d0020-4b87-4465-9efc-c54d5a160601.png"},{"url":"https://i.redd.it/snoovatar/avatars/3787dede-b2bb-45ff-a4b3-78219b7310cc.png"}]},{"channel":{"__typename":"UserChatChannel","id":"c5_1e0u","roomId":"!ATwSgFXlSguqlsZcx1-6_g:reddit.com","name":"Friends Chat!","icon":"https://matrix.redditspace.com/_matrix/media/v3/download/reddit.com/x0ycs9yzk8dd1","description":"A chill, SFW channel to make friends! Please read the pinned rules and enjoy your stay!","activeUsersCount":3,"recentMessagesCount":14492,"taggedTopics":[{"name":"Animals \u0026 Pets"}]},"usersAvatars":[{"url":"https://i.redd.it/snoovatar/avatars/b85afcc9-8f36-44e9-a9a6-a9925778dea3.png"},{"url":"https://i.redd.it/snoovatar/avatars/00ceb323-4133-48ad-ae8e-cc7fefd989bd.png"},{"url":"https://i.redd.it/snoovatar/avatars/61b1e376-e9ca-4110-b2f6-ccc023f26864.png"}]},{"channel":{"__typename":"UserChatChannel","id":"c5_1u95","roomId":"!rnWOri4-TOq5QiPZ4gP6Pw:reddit.com","name":"Meet new people!","icon":"https://matrix.redditspace.com/_matrix/media/v3/download/reddit.com/qkkp8scq7nnd1","description":"Meet new people and have fun!","activeUsersCount":2,"recentMessagesCount":6328,"taggedTopics":[{"name":"Memes"}]},"usersAvatars":[{"url":"https://i.redd.it/snoovatar/avatars/02227b4e-6458-42f2-b89d-a4cbc5cdad7d.png"},{"url":"https://i.redd.it/snoovatar/avatars/b1698151-0b2b-40ab-b16d-fe05db0ba10e.png"},{"url":"https://i.redd.it/snoovatar/avatars/94c6c261-a0ea-4fba-8724-061b953f9bff.png"}]},{"channel":{"__typename":"UserChatChannel","id":"c5_q04","roomId":"!6oJX0gk5QtSxm2Hv__5OeQ:reddit.com","name":"Safe Heaven for Wholesom chat2","icon":"https://matrix.redditspace.com/_matrix/media/v3/download/reddit.com/8417lvmib90d1","description":"This user wants a soft life.\nJust playing friends ðŸ˜œ.\nNice chit chat channel is our goal.\nSFW only.","activeUsersCount":3,"recentMessagesCount":3951,"taggedTopics":[{"name":"Wholesome \u0026 Heartwarming"}]},"usersAvatars":[{"url":"https://i.redd.it/snoovatar/avatars/6cefdcb0-3ff9-477c-8b92-17f5e59a9e02.png"},{"url":"https://i.redd.it/snoovatar/avatars/31e0a9f9-2a6b-4a41-8361-28cb701aca2d.png"},{"url":"https://i.redd.it/snoovatar/avatars/72f57574-529d-4c03-88c9-57b4c4a9478f.png"}]},{"channel":{"__typename":"UserChatChannel","id":"c5_yzc","roomId":"!eTgLeKMyTYulgCjrfOSH5A:reddit.com","name":"Find Your Best Friend Here","icon":"https://matrix.redditspace.com/_matrix/media/v3/download/reddit.com/j3u1v7ydx86d1","description":"A place to chat, make friends, and get to know each other. Keep it SFW. No minors.","activeUsersCount":1,"recentMessagesCount":2297,"taggedTopics":[{"name":"Funny"}]},"usersAvatars":[{"url":"https://i.redd.it/snoovatar/avatars/384170fb-fbea-4871-8b23-015ec1f27504.png"},{"url":"https://i.redd.it/snoovatar/avatars/af426f90-1321-435b-888c-64f8bf9014dd.png"},{"url":"https://i.redd.it/snoovatar/avatars/d10cd14c-0fa5-483c-88d0-463b2eda5e75.png"}]},{"channel":{"__typename":"UserChatChannel","id":"c5_k0j","roomId":"!FBUpFuohS46f5TZYPBZVHg:reddit.com","name":"Chill random chat","icon":"https://matrix.redditspace.com/_matrix/media/v3/download/reddit.com/d5pobrrpl0sc1","description":"as the name suggest talk about random stuff","activeUsersCount":2,"recentMessagesCount":7279,"taggedTopics":[{"name":"Wholesome \u0026 Heartwarming"}]},"usersAvatars":[{"url":"https://i.redd.it/snoovatar/avatars/fd30405f-1571-4550-aedd-2d856ba9b4ce.png"},{"url":"https://i.redd.it/snoovatar/avatars/674a86be-80b8-4efd-818c-15ff176a0a6d.png"},{"url":"https://i.redd.it/snoovatar/avatars/ab2c825a-ed88-4cbb-bf20-52f8b50b2911.png"}]}]}}}}

use actix_web::HttpResponse;
use serde_json::json;
use log::debug;

pub async fn get_recommendations() -> HttpResponse {
    debug!("get_recommendations");

    let rep = json! {{
        "data": {
            "discoverBar": {
                "recommendedChannels": {
                    "__typename": "RecommendedChatChannels",
                    "analyticsInfo": {
                        "recommendationAlgorithm": "CCR_DISCOVER_BAR"
                    },
                    "recommendedChannels": []
                }
            }
        }
    }};

    HttpResponse::Ok().json(rep)
}
